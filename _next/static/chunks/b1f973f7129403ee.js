(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14887,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(17714),s=e.i(70065),n=e.i(73921),i=e.i(83966),l=e.i(7670),c=e.i(73050),o=e.i(71223),d=e.i(86966),u=e.i(29873),x=e.i(78948),m=e.i(98892),h=e.i(72733),p=e.i(38279),f=e.i(97865),j=e.i(69212),g=e.i(62728),y=e.i(94395),v=e.i(98770),b=e.i(81977),N=["layout","type","stroke","connectNulls","isRange","ref"],C=["key"];function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(null==e)return{};var r,a,s=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function A(){return(A=Object.assign.bind()).apply(this,arguments)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,L(a.key),a)}}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(T=function(){return!!e})()}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,r){return(t=L(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=k(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k(t)?t:t+""}var B=function(e){var t,a;function s(){var e,t,r;if(!(this instanceof s))throw TypeError("Cannot call a class as a function");for(var a=arguments.length,n=Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=s,r=[].concat(n),t=D(t),E(e=function(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var r=e;if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(this,T()?Reflect.construct(t,r||[],D(this).constructor):t.apply(this,r)),"state",{isAnimationFinished:!0}),E(e,"id",(0,y.uniqueId)("recharts-area-")),E(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),(0,o.default)(t)&&t()}),E(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),(0,o.default)(t)&&t()}),e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&V(s,e),t=[{key:"renderDots",value:function(e,t,a){var n=this.props.isAnimationActive,i=this.state.isAnimationFinished;if(n&&!i)return null;var l=this.props,c=l.dot,o=l.points,d=l.dataKey,u=(0,b.filterProps)(this.props,!1),x=(0,b.filterProps)(c,!0),m=o.map(function(e,t){var r=S(S(S({key:"dot-".concat(t),r:3},u),x),{},{index:t,cx:e.x,cy:e.y,dataKey:d,value:e.value,payload:e.payload,points:o});return s.renderDotItem(c,r)}),h={clipPath:e?"url(#clipPath-".concat(t?"":"dots-").concat(a,")"):null};return r.default.createElement(f.Layer,A({className:"recharts-area-dots"},h),m)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,a=t.baseLine,s=t.points,n=t.strokeWidth,i=s[0].x,l=s[s.length-1].x,c=e*Math.abs(i-l),o=(0,d.default)(s.map(function(e){return e.y||0}));return((0,y.isNumber)(a)&&"number"==typeof a?o=Math.max(a,o):a&&Array.isArray(a)&&a.length&&(o=Math.max((0,d.default)(a.map(function(e){return e.y||0})),o)),(0,y.isNumber)(o))?r.default.createElement("rect",{x:i<l?i:i-c,y:0,width:c,height:Math.floor(o+(n?parseInt("".concat(n),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,a=t.baseLine,s=t.points,n=t.strokeWidth,i=s[0].y,l=s[s.length-1].y,c=e*Math.abs(i-l),o=(0,d.default)(s.map(function(e){return e.x||0}));return((0,y.isNumber)(a)&&"number"==typeof a?o=Math.max(a,o):a&&Array.isArray(a)&&a.length&&(o=Math.max((0,d.default)(a.map(function(e){return e.x||0})),o)),(0,y.isNumber)(o))?r.default.createElement("rect",{x:0,y:i<l?i:i-c,width:o+(n?parseInt("".concat(n),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,a,s){var n=this.props,i=n.layout,l=n.type,c=n.stroke,o=n.connectNulls,d=n.isRange,u=(n.ref,w(n,N));return r.default.createElement(f.Layer,{clipPath:a?"url(#clipPath-".concat(s,")"):null},r.default.createElement(h.Curve,A({},(0,b.filterProps)(u,!0),{points:e,connectNulls:o,type:l,baseLine:t,layout:i,stroke:"none",className:"recharts-area-area"})),"none"!==c&&r.default.createElement(h.Curve,A({},(0,b.filterProps)(this.props,!1),{className:"recharts-area-curve",layout:i,type:l,connectNulls:o,fill:"none",points:e})),"none"!==c&&d&&r.default.createElement(h.Curve,A({},(0,b.filterProps)(this.props,!1),{className:"recharts-area-curve",layout:i,type:l,connectNulls:o,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var a=this,s=this.props,n=s.points,i=s.baseLine,l=s.isAnimationActive,o=s.animationBegin,d=s.animationDuration,m=s.animationEasing,h=s.animationId,p=this.state,j=p.prevPoints,g=p.prevBaseLine;return r.default.createElement(c.default,{begin:o,duration:d,isActive:l,easing:m,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(s){var l=s.t;if(j){var c,o=j.length/n.length,d=n.map(function(e,t){var r=Math.floor(t*o);if(j[r]){var a=j[r],s=(0,y.interpolateNumber)(a.x,e.x),n=(0,y.interpolateNumber)(a.y,e.y);return S(S({},e),{},{x:s(l),y:n(l)})}return e});return c=(0,y.isNumber)(i)&&"number"==typeof i?(0,y.interpolateNumber)(g,i)(l):(0,u.default)(i)||(0,x.default)(i)?(0,y.interpolateNumber)(g,0)(l):i.map(function(e,t){var r=Math.floor(t*o);if(g[r]){var a=g[r],s=(0,y.interpolateNumber)(a.x,e.x),n=(0,y.interpolateNumber)(a.y,e.y);return S(S({},e),{},{x:s(l),y:n(l)})}return e}),a.renderAreaStatically(d,c,e,t)}return r.default.createElement(f.Layer,null,r.default.createElement("defs",null,r.default.createElement("clipPath",{id:"animationClipPath-".concat(t)},a.renderClipRect(l))),r.default.createElement(f.Layer,{clipPath:"url(#animationClipPath-".concat(t,")")},a.renderAreaStatically(n,i,e,t)))})}},{key:"renderArea",value:function(e,t){var r=this.props,a=r.points,s=r.baseLine,n=r.isAnimationActive,i=this.state,l=i.prevPoints,c=i.prevBaseLine,o=i.totalLength;return n&&a&&a.length&&(!l&&o>0||!(0,m.default)(l,a)||!(0,m.default)(c,s))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(a,s,e,t)}},{key:"render",value:function(){var e,t=this.props,a=t.hide,s=t.dot,n=t.points,i=t.className,c=t.top,o=t.left,d=t.xAxis,x=t.yAxis,m=t.width,h=t.height,p=t.isAnimationActive,g=t.id;if(a||!n||!n.length)return null;var y=this.state.isAnimationFinished,v=1===n.length,N=(0,l.default)("recharts-area",i),C=d&&d.allowDataOverflow,k=x&&x.allowDataOverflow,w=C||k,A=(0,u.default)(g)?this.id:g,P=null!=(e=(0,b.filterProps)(s,!1))?e:{r:3,strokeWidth:2},S=P.r,O=P.strokeWidth,T=((0,b.hasClipDot)(s)?s:{}).clipDot,D=void 0===T||T,V=2*(void 0===S?3:S)+(void 0===O?2:O);return r.default.createElement(f.Layer,{className:N},C||k?r.default.createElement("defs",null,r.default.createElement("clipPath",{id:"clipPath-".concat(A)},r.default.createElement("rect",{x:C?o:o-m/2,y:k?c:c-h/2,width:C?m:2*m,height:k?h:2*h})),!D&&r.default.createElement("clipPath",{id:"clipPath-dots-".concat(A)},r.default.createElement("rect",{x:o-V/2,y:c-V/2,width:m+V,height:h+V}))):null,v?null:this.renderArea(w,A),(s||v)&&this.renderDots(w,D,A),(!p||y)&&j.LabelList.renderCallByParent(this.props,n))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],t&&O(s.prototype,t),a&&O(s,a),Object.defineProperty(s,"prototype",{writable:!1}),s}(r.PureComponent);E(B,"displayName","Area"),E(B,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!g.Global.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),E(B,"getBaseValue",function(e,t,r,a){var s=e.layout,n=e.baseValue,i=t.props.baseValue,l=null!=i?i:n;if((0,y.isNumber)(l)&&"number"==typeof l)return l;var c="horizontal"===s?a:r,o=c.scale.domain();if("number"===c.type){var d=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return"dataMin"===l?u:"dataMax"===l||d<0?d:Math.max(Math.min(o[0],o[1]),0)}return"dataMin"===l?o[0]:"dataMax"===l?o[1]:o[0]}),E(B,"getComposedData",function(e){var t,r=e.props,a=e.item,s=e.xAxis,n=e.yAxis,i=e.xAxisTicks,l=e.yAxisTicks,c=e.bandSize,o=e.dataKey,d=e.stackedData,u=e.dataStartIndex,x=e.displayedData,m=e.offset,h=r.layout,p=d&&d.length,f=B.getBaseValue(r,a,s,n),j="horizontal"===h,g=!1,y=x.map(function(e,t){p?r=d[u+t]:Array.isArray(r=(0,v.getValueByDataKey)(e,o))?g=!0:r=[f,r];var r,a=null==r[1]||p&&null==(0,v.getValueByDataKey)(e,o);return j?{x:(0,v.getCateCoordinateOfLine)({axis:s,ticks:i,bandSize:c,entry:e,index:t}),y:a?null:n.scale(r[1]),value:r,payload:e}:{x:a?null:s.scale(r[1]),y:(0,v.getCateCoordinateOfLine)({axis:n,ticks:l,bandSize:c,entry:e,index:t}),value:r,payload:e}});return t=p||g?y.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return j?{x:e.x,y:null!=t&&null!=e.y?n.scale(t):null}:{x:null!=t?s.scale(t):null,y:e.y}}):j?n.scale(f):s.scale(f),S({points:y,baseLine:t,layout:h,isRange:g},m)}),E(B,"renderDotItem",function(e,t){var a;if(r.default.isValidElement(e))a=r.default.cloneElement(e,t);else if((0,o.default)(e))a=e(t);else{var s=(0,l.default)("recharts-area-dot","boolean"!=typeof e?e.className:""),n=t.key,i=w(t,C);a=r.default.createElement(p.Dot,A({},i,{key:n,className:s}))}return a});var I=e.i(85183),M=e.i(93230),F=e.i(44171),K=(0,i.generateCategoricalChart)({chartName:"AreaChart",GraphicalChild:B,axisComponents:[{axisType:"xAxis",AxisComp:I.XAxis},{axisType:"yAxis",AxisComp:M.YAxis}],formatAxisMap:F.formatAxisMap}),R=e.i(72526),z=e.i(44098),W=e.i(27250);let G={plannedValue:{label:"Planned Value (PV)",color:"var(--chart-1)"},earnedValue:{label:"Earned Value (EV)",color:"var(--chart-2)"},actualCost:{label:"Actual Cost (AC)",color:"var(--chart-3)"}};function U(){let e=W.evmData.map((e,t)=>({date:e.date,plannedValue:e.plannedValue/1e6,earnedValue:e.earnedValue/1e6,actualCost:e.actualCost/1e6,isLatest:t===W.evmData.length-1}));return(0,t.jsxs)(s.Card,{className:"relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-40 h-40 rounded-full bg-primary/5 -mr-20 -mt-20"}),(0,t.jsxs)(s.CardHeader,{className:"pb-2",children:[(0,t.jsx)(s.CardTitle,{className:"text-lg",children:"Earned Value Management"}),(0,t.jsx)(s.CardDescription,{children:"Downtown Office Tower - Cost & Schedule Performance"})]}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsx)(n.ChartContainer,{config:G,className:"h-[280px] w-full",children:(0,t.jsx)(z.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(K,{data:e,margin:{top:10,right:10,left:0,bottom:0},children:[(0,t.jsxs)("defs",{children:[(0,t.jsxs)("linearGradient",{id:"gradientPV",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:"var(--chart-1)",stopOpacity:.3}),(0,t.jsx)("stop",{offset:"95%",stopColor:"var(--chart-1)",stopOpacity:0})]}),(0,t.jsxs)("linearGradient",{id:"gradientEV",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:"var(--chart-2)",stopOpacity:.4}),(0,t.jsx)("stop",{offset:"95%",stopColor:"var(--chart-2)",stopOpacity:.05})]}),(0,t.jsxs)("linearGradient",{id:"gradientAC",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:"var(--chart-3)",stopOpacity:.2}),(0,t.jsx)("stop",{offset:"95%",stopColor:"var(--chart-3)",stopOpacity:0})]})]}),(0,t.jsx)(R.CartesianGrid,{strokeDasharray:"3 3",stroke:"var(--border)",strokeOpacity:.5,vertical:!1}),(0,t.jsx)(I.XAxis,{dataKey:"date",tickLine:!1,axisLine:!1,tickMargin:12,tick:{fill:"var(--muted-foreground)",fontSize:12}}),(0,t.jsx)(M.YAxis,{tickLine:!1,axisLine:!1,tickMargin:8,tickFormatter:e=>`$${e}M`,tick:{fill:"var(--muted-foreground)",fontSize:12},width:60}),(0,t.jsx)(n.ChartTooltip,{content:(0,t.jsx)(n.ChartTooltipContent,{}),cursor:{stroke:"var(--primary)",strokeWidth:1,strokeDasharray:"5 5"}}),(0,t.jsx)(B,{type:"monotone",dataKey:"plannedValue",stroke:"var(--chart-1)",strokeWidth:2,fill:"url(#gradientPV)",dot:!1,activeDot:{r:6,fill:"var(--chart-1)",stroke:"white",strokeWidth:2}}),(0,t.jsx)(B,{type:"monotone",dataKey:"earnedValue",stroke:"var(--chart-2)",strokeWidth:3,fill:"url(#gradientEV)",dot:!1,activeDot:{r:8,fill:"var(--chart-2)",stroke:"white",strokeWidth:3}}),(0,t.jsx)(B,{type:"monotone",dataKey:"actualCost",stroke:"var(--chart-3)",strokeWidth:2,strokeDasharray:"5 5",fill:"url(#gradientAC)",dot:!1,activeDot:{r:6,fill:"var(--chart-3)",stroke:"white",strokeWidth:2}})]})})}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-6 mt-4 pt-4 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-1 rounded-full bg-chart-1"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Planned Value"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-1.5 rounded-full bg-chart-2"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Earned Value"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-1 rounded-full bg-chart-3 opacity-70",style:{backgroundImage:"repeating-linear-gradient(90deg, var(--chart-3) 0, var(--chart-3) 3px, transparent 3px, transparent 6px)"}}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Actual Cost"})]})]})]})]})}var $=e.i(94179),H=e.i(84958);function _(){let e=(0,W.getLatestEvm)("proj-1");if(!e)return null;let{plannedValue:r,earnedValue:a,actualCost:n,budgetAtCompletion:i}=e,l=(0,H.calculateSPI)(a,r),c=(0,H.calculateCPI)(a,n),o=(0,H.calculateEAC)(i,c),d=(0,H.calculateCV)(a,n),u=(0,H.calculateSV)(a,r),x=e=>e>=1?(0,t.jsx)($.Badge,{className:"bg-green-500/20 text-green-700 dark:text-green-400",children:"On Track"}):e>=.9?(0,t.jsx)($.Badge,{className:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400",children:"At Risk"}):(0,t.jsx)($.Badge,{className:"bg-red-500/20 text-red-700 dark:text-red-400",children:"Behind"});return(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{className:"text-base",children:"EVM Indicators"})}),(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Schedule Performance (SPI)"}),(0,t.jsx)("p",{className:"text-xl font-bold",children:l.toFixed(2)})]}),x(l)]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Cost Performance (CPI)"}),(0,t.jsx)("p",{className:"text-xl font-bold",children:c.toFixed(2)})]}),x(c)]}),(0,t.jsx)("div",{className:"border-t border-border pt-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Schedule Variance"}),(0,t.jsx)("p",{className:`text-sm font-medium ${u<0?"text-destructive":"text-green-600 dark:text-green-400"}`,children:(0,W.formatCurrency)(u)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Cost Variance"}),(0,t.jsx)("p",{className:`text-sm font-medium ${d<0?"text-destructive":"text-green-600 dark:text-green-400"}`,children:(0,W.formatCurrency)(d)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Budget (BAC)"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:(0,W.formatCurrency)(i)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Est. at Completion"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:(0,W.formatCurrency)(o)})]})]})})]})]})}var X=e.i(55153),Y=e.i(25652),q=e.i(35408);let Z={spi:{label:"SPI",color:"var(--chart-1)"},cpi:{label:"CPI",color:"var(--chart-2)"}};function J(){let e=W.evmData.map(e=>({date:e.date,spi:(0,H.calculateSPI)(e.earnedValue,e.plannedValue),cpi:(0,H.calculateCPI)(e.earnedValue,e.actualCost)})),r=e[e.length-1]?.spi||1,a=e[e.length-1]?.cpi||1;return(0,t.jsxs)(s.Card,{className:"relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full bg-chart-2/5 -mr-16 -mt-16"}),(0,t.jsxs)(s.CardHeader,{className:"pb-2",children:[(0,t.jsx)(s.CardTitle,{className:"text-lg",children:"Performance Trends"}),(0,t.jsx)(s.CardDescription,{children:"SPI & CPI over time - Target: 1.0"})]}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Schedule (SPI)"}),r>=1?(0,t.jsx)(Y.TrendingUp,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(q.TrendingDown,{className:"h-4 w-4 text-orange-500"})]}),(0,t.jsx)("p",{className:`text-2xl font-bold mt-1 ${r>=1?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"}`,children:r.toFixed(2)})]}),(0,t.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Cost (CPI)"}),a>=1?(0,t.jsx)(Y.TrendingUp,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(q.TrendingDown,{className:"h-4 w-4 text-red-500"})]}),(0,t.jsx)("p",{className:`text-2xl font-bold mt-1 ${a>=1?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:a.toFixed(2)})]})]}),(0,t.jsx)(n.ChartContainer,{config:Z,className:"h-[200px] w-full",children:(0,t.jsx)(z.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(K,{data:e,margin:{top:10,right:10,left:0,bottom:0},children:[(0,t.jsxs)("defs",{children:[(0,t.jsxs)("linearGradient",{id:"spiGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:"var(--chart-1)",stopOpacity:.3}),(0,t.jsx)("stop",{offset:"95%",stopColor:"var(--chart-1)",stopOpacity:0})]}),(0,t.jsxs)("linearGradient",{id:"cpiGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:"var(--chart-2)",stopOpacity:.3}),(0,t.jsx)("stop",{offset:"95%",stopColor:"var(--chart-2)",stopOpacity:0})]})]}),(0,t.jsx)(R.CartesianGrid,{strokeDasharray:"3 3",stroke:"var(--border)",strokeOpacity:.5,vertical:!1}),(0,t.jsx)(I.XAxis,{dataKey:"date",tickLine:!1,axisLine:!1,tickMargin:8,tick:{fill:"var(--muted-foreground)",fontSize:11}}),(0,t.jsx)(M.YAxis,{tickLine:!1,axisLine:!1,tickMargin:8,domain:[.85,1.05],tickFormatter:e=>e.toFixed(2),tick:{fill:"var(--muted-foreground)",fontSize:11},width:45}),(0,t.jsx)(X.ReferenceLine,{y:1,stroke:"var(--muted-foreground)",strokeDasharray:"5 5",strokeOpacity:.5}),(0,t.jsx)(n.ChartTooltip,{content:(0,t.jsx)(n.ChartTooltipContent,{})}),(0,t.jsx)(B,{type:"monotone",dataKey:"spi",stroke:"var(--chart-1)",strokeWidth:2,fill:"url(#spiGradient)",dot:!1,activeDot:{r:5,fill:"var(--chart-1)",stroke:"white",strokeWidth:2}}),(0,t.jsx)(B,{type:"monotone",dataKey:"cpi",stroke:"var(--chart-2)",strokeWidth:2,fill:"url(#cpiGradient)",dot:!1,activeDot:{r:5,fill:"var(--chart-2)",stroke:"white",strokeWidth:2}})]})})}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-6 mt-3 pt-3 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-chart-1"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"SPI (Schedule)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-chart-2"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"CPI (Cost)"})]})]})]})]})}var Q=e.i(9694),ee=e.i(75225),et=e.i(22787);let er={budget:{label:"Budget",color:"var(--chart-1)"},spent:{label:"Spent",color:"var(--chart-2)"}};function ea(){let e=W.projects.map(e=>({name:e.name.split(" ").slice(0,2).join(" "),fullName:e.name,budget:e.budget/1e6,spent:e.actualCost/1e6,percentUsed:e.actualCost/e.budget*100}));return(0,t.jsxs)(s.Card,{className:"relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-32 h-32 rounded-full bg-chart-1/5 -ml-16 -mb-16"}),(0,t.jsxs)(s.CardHeader,{className:"pb-2",children:[(0,t.jsx)(s.CardTitle,{className:"text-lg",children:"Budget Overview"}),(0,t.jsx)(s.CardDescription,{children:"Budget vs actual spend by project (in millions)"})]}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsx)(n.ChartContainer,{config:er,className:"h-[280px] w-full",children:(0,t.jsx)(z.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(Q.BarChart,{data:e,layout:"vertical",margin:{left:10,right:20,top:10,bottom:10},children:[(0,t.jsx)(R.CartesianGrid,{strokeDasharray:"3 3",horizontal:!0,vertical:!1,stroke:"var(--border)",strokeOpacity:.5}),(0,t.jsx)(I.XAxis,{type:"number",tickLine:!1,axisLine:!1,tickFormatter:e=>`$${e}M`,tick:{fill:"var(--muted-foreground)",fontSize:11}}),(0,t.jsx)(M.YAxis,{type:"category",dataKey:"name",tickLine:!1,axisLine:!1,width:90,tick:{fill:"var(--muted-foreground)",fontSize:11}}),(0,t.jsx)(n.ChartTooltip,{content:(0,t.jsx)(n.ChartTooltipContent,{}),cursor:{fill:"var(--muted)",opacity:.2}}),(0,t.jsx)(ee.Bar,{dataKey:"budget",fill:"var(--chart-1)",radius:[0,4,4,0],opacity:.2,barSize:20}),(0,t.jsx)(ee.Bar,{dataKey:"spent",radius:[0,4,4,0],barSize:20,children:e.map((e,r)=>(0,t.jsx)(et.Cell,{fill:e.percentUsed>90?"var(--chart-3)":"var(--chart-1)"},`cell-${r}`))})]})})}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-6 mt-3 pt-3 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded bg-chart-1 opacity-30"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Budget"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded bg-chart-1"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Spent (on track)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded bg-chart-3"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Spent (over 90%)"})]})]})]})]})}var es=e.i(47163),en=e.i(95468),ei=e.i(75254);let el=(0,ei.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ec=(0,ei.default)("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),eo=(0,ei.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);function ed({projectId:e,compact:r=!1}){let a=e?(0,W.getStagesByProject)(e):W.projectStages.filter(e=>"proj-1"===e.projectId),n=W.projects.find(t=>t.id===(e||"proj-1")),i=e=>{switch(e){case"completed":return(0,t.jsx)(en.CheckCircle2,{className:"h-5 w-5 text-green-500"});case"in-progress":return(0,t.jsx)(ec,{className:"h-5 w-5 text-blue-500"});default:return(0,t.jsx)(el,{className:"h-5 w-5 text-muted-foreground"})}},l=e=>e>0?(0,t.jsxs)("span",{className:"flex items-center text-green-600 dark:text-green-400 text-xs font-medium",children:[(0,t.jsx)(Y.TrendingUp,{className:"h-3 w-3 mr-0.5"}),"+",e.toFixed(1),"%"]}):e<0?(0,t.jsxs)("span",{className:"flex items-center text-red-600 dark:text-red-400 text-xs font-medium",children:[(0,t.jsx)(q.TrendingDown,{className:"h-3 w-3 mr-0.5"}),e.toFixed(1),"%"]}):(0,t.jsxs)("span",{className:"flex items-center text-muted-foreground text-xs",children:[(0,t.jsx)(eo,{className:"h-3 w-3 mr-0.5"}),"0%"]}),c=a.findIndex(e=>"in-progress"===e.status),o=(a.filter(e=>"completed"===e.status).length+(c>=0)*.5)/a.length*100;return r?(0,t.jsxs)(s.Card,{children:[(0,t.jsxs)(s.CardHeader,{className:"pb-3",children:[(0,t.jsx)(s.CardTitle,{className:"text-base",children:"Project Stages"}),(0,t.jsx)(s.CardDescription,{children:n?.name})]}),(0,t.jsx)(s.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Overall Progress"}),(0,t.jsxs)("span",{className:"font-medium",children:[Math.round(o),"%"]})]}),(0,t.jsx)("div",{className:"flex gap-1",children:a.map((e,r)=>(0,t.jsx)("div",{className:(0,es.cn)("h-2 flex-1 rounded-full","completed"===e.status&&"bg-green-500","in-progress"===e.status&&"bg-blue-500","upcoming"===e.status&&"bg-muted")},e.id))})]}),(0,t.jsx)("div",{className:"space-y-2",children:a.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[i(e.status),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsx)("p",{className:(0,es.cn)("text-sm font-medium truncate","upcoming"===e.status&&"text-muted-foreground"),children:e.name})}),"upcoming"!==e.status&&(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Cost"}),l(e.costVariance)]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Schedule"}),l(e.scheduleVariance)]})]})]},e.id))})]})})]}):(0,t.jsxs)(s.Card,{children:[(0,t.jsxs)(s.CardHeader,{children:[(0,t.jsx)(s.CardTitle,{children:"Project Lifecycle Stages"}),(0,t.jsxs)(s.CardDescription,{children:[n?.name," - Cost & Schedule Control Points"]})]}),(0,t.jsx)(s.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center gap-1",children:a.map((e,r)=>(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,t.jsx)("div",{className:(0,es.cn)("w-full h-3 rounded-full transition-colors","completed"===e.status&&"bg-green-500","in-progress"===e.status&&"bg-blue-500 animate-pulse","upcoming"===e.status&&"bg-muted")}),(0,t.jsx)("span",{className:(0,es.cn)("text-xs mt-2 text-center","upcoming"===e.status?"text-muted-foreground":"font-medium"),children:e.name.split(" ")[0]})]},e.id))}),(0,t.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{className:"bg-muted/50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"text-left p-3 font-medium",children:"Stage"}),(0,t.jsx)("th",{className:"text-right p-3 font-medium",children:"Planned Cost"}),(0,t.jsx)("th",{className:"text-right p-3 font-medium",children:"Actual Cost"}),(0,t.jsx)("th",{className:"text-center p-3 font-medium",children:"Cost Var."}),(0,t.jsx)("th",{className:"text-center p-3 font-medium",children:"Schedule Var."}),(0,t.jsx)("th",{className:"text-right p-3 font-medium",children:"LCA (CO2)"})]})}),(0,t.jsx)("tbody",{children:a.map(e=>(0,t.jsxs)("tr",{className:"border-t",children:[(0,t.jsx)("td",{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[i(e.status),(0,t.jsx)("span",{className:"upcoming"===e.status?"text-muted-foreground":"",children:e.name})]})}),(0,t.jsx)("td",{className:"text-right p-3",children:(0,W.formatCurrency)(e.plannedCost)}),(0,t.jsx)("td",{className:"text-right p-3",children:e.actualCost>0?(0,W.formatCurrency)(e.actualCost):"-"}),(0,t.jsx)("td",{className:"text-center p-3",children:l(e.costVariance)}),(0,t.jsx)("td",{className:"text-center p-3",children:l(e.scheduleVariance)}),(0,t.jsxs)("td",{className:"text-right p-3 text-muted-foreground",children:[(e.lcaCarbonKg/1e3).toFixed(0),"t"]})]},e.id))})]})})]})})]})}var eu=e.i(62870),ex=e.i(27341),em=e.i(12426),eh=e.i(87316);let ep=(0,ei.default)("leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);function ef(){let[e,n]=(0,r.useState)("proj-1");W.projects.find(t=>t.id===e);let i=(0,W.getStagesByProject)(e),l=i.reduce((e,t)=>e+t.plannedCost,0),c=i.reduce((e,t)=>e+t.actualCost,0),o=i.reduce((e,t)=>e+t.lcaCarbonKg,0),d=i.filter(e=>"upcoming"!==e.status).reduce((e,t)=>e+t.costVariance,0)/i.filter(e=>"upcoming"!==e.status).length||0,u=i.filter(e=>"upcoming"!==e.status).reduce((e,t)=>e+t.scheduleVariance,0)/i.filter(e=>"upcoming"!==e.status).length||0;return(0,t.jsx)(a.DashboardShell,{title:"Analytics",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Project Performance Analytics"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Detailed cost, schedule, and environmental metrics"})]}),(0,t.jsxs)(eu.Select,{value:e,onValueChange:n,children:[(0,t.jsx)(eu.SelectTrigger,{className:"w-[280px]",children:(0,t.jsx)(eu.SelectValue,{placeholder:"Select project"})}),(0,t.jsx)(eu.SelectContent,{children:W.projects.map(e=>(0,t.jsx)(eu.SelectItem,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,t.jsx)(s.Card,{children:(0,t.jsx)(s.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Budget"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:(0,W.formatCurrency)(l)}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Spent: ",(0,W.formatCurrency)(c)]})]}),(0,t.jsx)("div",{className:"h-12 w-12 rounded-xl bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(em.DollarSign,{className:"h-6 w-6 text-primary"})})]})})}),(0,t.jsx)(s.Card,{children:(0,t.jsx)(s.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Cost Variance"}),(0,t.jsxs)("p",{className:(0,es.cn)("text-2xl font-bold",d>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[d>=0?"+":"",d.toFixed(1),"%"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:d>=0?"Under budget":"Over budget"})]}),(0,t.jsx)("div",{className:(0,es.cn)("h-12 w-12 rounded-xl flex items-center justify-center",d>=0?"bg-green-500/10":"bg-red-500/10"),children:d>=0?(0,t.jsx)(Y.TrendingUp,{className:"h-6 w-6 text-green-500"}):(0,t.jsx)(q.TrendingDown,{className:"h-6 w-6 text-red-500"})})]})})}),(0,t.jsx)(s.Card,{children:(0,t.jsx)(s.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Schedule Variance"}),(0,t.jsxs)("p",{className:(0,es.cn)("text-2xl font-bold",u>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[u>=0?"+":"",u.toFixed(1),"%"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:u>=0?"Ahead of schedule":"Behind schedule"})]}),(0,t.jsx)("div",{className:(0,es.cn)("h-12 w-12 rounded-xl flex items-center justify-center",u>=0?"bg-green-500/10":"bg-red-500/10"),children:(0,t.jsx)(eh.Calendar,{className:(0,es.cn)("h-6 w-6",u>=0?"text-green-500":"text-red-500")})})]})})}),(0,t.jsx)(s.Card,{children:(0,t.jsx)(s.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Carbon Footprint"}),(0,t.jsxs)("p",{className:"text-2xl font-bold",children:[(o/1e3).toFixed(0),"t"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Total CO2 (LCA)"})]}),(0,t.jsx)("div",{className:"h-12 w-12 rounded-xl bg-emerald-500/10 flex items-center justify-center",children:(0,t.jsx)(ep,{className:"h-6 w-6 text-emerald-500"})})]})})})]}),(0,t.jsxs)(ex.Tabs,{defaultValue:"stages",className:"space-y-4",children:[(0,t.jsxs)(ex.TabsList,{children:[(0,t.jsx)(ex.TabsTrigger,{value:"stages",children:"Project Stages"}),(0,t.jsx)(ex.TabsTrigger,{value:"evm",children:"Earned Value"}),(0,t.jsx)(ex.TabsTrigger,{value:"performance",children:"Performance Trends"})]}),(0,t.jsx)(ex.TabsContent,{value:"stages",className:"space-y-4",children:(0,t.jsx)(ed,{projectId:e})}),(0,t.jsx)(ex.TabsContent,{value:"evm",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsx)(U,{})}),(0,t.jsx)(_,{})]})}),(0,t.jsx)(ex.TabsContent,{value:"performance",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsx)(J,{}),(0,t.jsx)(ea,{})]})})]})]})})}e.s(["default",()=>ef],14887)}]);